!function(a,b,c){var d,e,f,g=c(a),h=(c(b),{container:"fsr-container",element:"fsr-element",hidden:"fsr-hidden"});e={useCSS:!0,container:"parent",position:{x:"center",y:"center"},throttleTimeout:100},f="backgroundSize"in b.createElement("div").style,d=function(a,b){return this.element=a,this.$element=c(a),this.settings=c.extend({},e,b),this.params={element:{width:null,height:null},container:{width:null,height:null},ratios:{container:null,element:null}},"parent"==this.settings.container?this.$container=this.$element.parent():this.settings.container instanceof jQuery&&this.settings.container.length&&(this.$container=this.settings.container),this.$container.length?(this.init(),void 0):(this.notify("The container was not found!"),void 0)},d.fn=d.prototype,d.fn.constructor=d,d.fn.init=function(){this.$element.addClass(h.element),this.$container.addClass(h.container),f&&this.settings.useCSS?this.setBackground():f&&this.settings.useCSS||(this.listen(),this.resize())},d.fn.listen=function(){var a=this;g.on("resize.fullscreener orientationchange.fullscreener",this.throttle(function(){a.resize()},this.settings.throttleTimeout))},d.fn.setBackground=function(){var a=this.$element,b=this.$container;a.addClass(h.hidden),b.css("background-image","url("+a[0].src+")")},d.fn.calcRatios=function(){var a=this.$element,b=this.$container,c=this.params;if(!c.ratios.element){if(!a.attr("width")||!a.attr("height"))return this.notify("The image should have width/height attributes!"),void 0;var d=parseInt(a.attr("width"),10),e=parseInt(a.attr("height"),10);c.ratios.element=e/d,c.element.width=d,c.element.height=e}var f=b.width(),g=b.height();c.ratios.container=g/f,c.container.width=f,c.container.height=g},d.fn.update=function(){var a=this.$element,b=this.params,c=this.settings,d={width:0,height:0,top:"auto",right:"auto",bottom:"auto",left:"auto"};switch(b.ratios.element<b.ratios.container?(d.height=b.container.height,d.width=b.container.height/b.ratios.element):(d.height=b.container.width*b.ratios.element,d.width=b.container.width),c.position.y){case"top":d.top=0;break;case"bottom":d.bottom=0;break;case"center":default:d.top=(b.container.height-d.height)/2}switch(c.position.x){case"left":d.left=0;break;case"right":d.right=0;break;case"center":default:d.left=(b.container.width-d.width)/2}a.css(d)},d.fn.throttle=function(a,b,c){function d(){i=0==c.leading?0:new Date,h=null,g=a.apply(e,f)}var e,f,g,h=null,i=0;return c||(c={}),function(){var j=new Date;i||0!=c.leading||(i=j);var k=b-(j-i);return e=this,f=arguments,0>=k?(clearTimeout(h),h=null,i=j,g=a.apply(e,f)):h||0==c.trailing||(h=setTimeout(d,k)),g}},d.fn.resize=function(){this.calcRatios(),this.update()},d.fn.destroy=function(){this.$element.removeClass(h.hidden).removeClass(h.element).removeAttr("style"),this.$container.removeClass(h.container).removeAttr("style"),this.$element.removeData("fullscreener")},d.fn.notify=function(a){alert("Fullscreener: "+a)},c.fn.fullscreener=function(a){return this.each(function(){var b=c(this),e=b.data("fullscreener");e?"string"==typeof a&&(e[a]?e[a]():d.fn.notify("This is not a valid method!")):b.data("fullscreener",new d(this,a))})}}(window,document,jQuery);